<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Online Grocery Store</title>
<style>
  *{box-sizing:border-box;}
  body{
    font-family: Arial, sans-serif;
    background:#111;
    color:#fff;
    padding:20px;
  }
  h1{text-align:center;color:yellow;}
  h2{
    background:green;
    padding:8px;
    border-radius:6px;
    color:#fff;
    margin-top:20px;
  }
  .item{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:6px 0;
    border-bottom:1px solid #444;
  }
  label{flex:1;}
  select{padding:4px;border-radius:5px;margin-left:10px;width:100px;}
  .buttons{margin-top:20px;display:flex;gap:10px;justify-content:center;}
  button{
    padding:10px 15px;
    border:none;
    border-radius:5px;
    cursor:pointer;
    background:green;
    color:white;
    font-size:16px;
  }
  #customItemSection input, #customItemSection select{
    padding:5px;
    margin-right:5px;
  }
  #customItemSection button{background:orange;color:#000;}
</style>
</head>
<body>

<h1>üõí ‡≤Ü‡≤®‡≥ç‚Äå‡≤≤‡≥à‡≤®‡≥ç ‡≤ó‡≥ç‡≤∞‡≥ã‡≤∏‡≤∞‡≤ø ‡≤Ö‡≤Ç‡≤ó‡≤°‡≤ø (Online Grocery Store)</h1>

<!-- User Input Section -->
<h2>Add Custom Grocery Item</h2>
<div id="customItemSection">
  <input type="text" id="customItemName" placeholder="Item Name" style="width:200px;">
  <select id="customItemType">
    <option value="kg">KG</option>
    <option value="liter">Liter</option>
    <option value="qty">Quantity</option>
  </select>
  <select id="customItemCategory">
    <option value="vegetables">Vegetables</option>
    <option value="greenLeaves">Green Leaves</option>
    <option value="fruits">Fruits</option>
    <option value="staples">Staples</option>
    <option value="dairy">Dairy</option>
    <option value="dryFruits">Dry Fruits</option>
    <option value="bakery">Bakery</option>
    <option value="drinks">Drinks</option>
    <option value="soaps">Soaps</option>
    <option value="clothSoaps">Cloth Soaps</option>
    <option value="soapPowders">Soap Powders</option>
    <option value="shampoos">Shampoos</option>
    <option value="facewash">Face Wash</option>
  </select>
  <button onclick="addCustomItem()">Add Item</button>
</div>

<!-- Grocery Sections -->
<h2>‡≤§‡≤∞‡≤ï‡≤æ‡≤∞‡≤ø‡≤ó‡≤≥‡≥Å (Vegetables)</h2><div id="vegetables"></div>
<h2>‡≤∏‡≥ä‡≤™‡≥ç‡≤™‡≥Å‡≤ó‡≤≥‡≥Å (Green Leaves)</h2><div id="greenLeaves"></div>
<h2>‡≤π‡≤£‡≥ç‡≤£‡≥Å‡≤ó‡≤≥‡≥Å (Fruits)</h2><div id="fruits"></div>
<h2>‡≤Ö‡≤ï‡≥ç‡≤ï‡≤ø, ‡≤ß‡≤æ‡≤®‡≥ç‡≤Ø & ‡≤Æ‡≤∏‡≤æ‡≤≤‡≥Ü‡≤ó‡≤≥‡≥Å (Grains, Staples & Spices)</h2><div id="staples"></div>
<h2>‡≤π‡≤æ‡≤≤‡≥Å ‡≤â‡≤§‡≥ç‡≤™‡≤®‡≥ç‡≤®‡≤ó‡≤≥‡≥Å (Dairy Products)</h2><div id="dairy"></div>
<h2>‡≤í‡≤£‡≤π‡≤£‡≥ç‡≤£‡≥Å‡≤ó‡≤≥‡≥Å (Dry Fruits)</h2><div id="dryFruits"></div>
<h2>‡≤¨‡≥á‡≤ï‡≤∞‡≤ø ‡≤ê‡≤ü‡≤Ç‡≤ó‡≤≥‡≥Å (Bakery Items)</h2><div id="bakery"></div>
<h2>‡≤™‡≤æ‡≤®‡≥Ä‡≤Ø‡≤ó‡≤≥‡≥Å (Drinks)</h2><div id="drinks"></div>
<h2>‡≤∏‡≤æ‡≤¨‡≥Ç‡≤®‡≥Å‡≤ó‡≤≥‡≥Å (Soaps)</h2><div id="soaps"></div>
<h2>‡≤¨‡≤ü‡≥ç‡≤ü‡≥Ü ‡≤§‡≥ä‡≤≥‡≥Ü‡≤Ø‡≥Å‡≤µ ‡≤∏‡≤æ‡≤¨‡≥Ç‡≤®‡≥Å‡≤ó‡≤≥‡≥Å (Cloth Washing Soaps)</h2><div id="clothSoaps"></div>
<h2>‡≤∏‡≤æ‡≤¨‡≥Ç‡≤®‡≥Å ‡≤™‡≥Å‡≤°‡≤ø (Soap Powders)</h2><div id="soapPowders"></div>
<h2>‡≤∂‡≤æ‡≤Ç‡≤™‡≥Å‡≤ó‡≤≥‡≥Å (Shampoos)</h2><div id="shampoos"></div>
<h2>‡≤´‡≥á‡≤∏‡≥ç‚Äå‡≤µ‡≤æ‡≤∂‡≥ç (Face Wash)</h2><div id="facewash"></div>

<!-- Buttons -->
<div class="buttons">
  <button onclick="sendWhatsApp()">üì≤ WhatsApp ‡≤ó‡≥Ü ‡≤ï‡≤≥‡≥Å‡≤π‡≤ø‡≤∏‡≤ø</button>
  <button onclick="downloadPDF()">üìÑ Save PDF</button>
</div>

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
  // Grocery Lists
  const vegetables=["‡≤¨‡≤¶‡≤®‡≥á‡≤ï‡≤æ‡≤Ø‡≤ø (Brinjal)","‡≤à‡≤∞‡≥Å‡≤≥‡≥ç‡≤≥‡≤ø (Onion)","‡≤é‡≤≤‡≥Ü‡≤ï‡≥ã‡≤∏‡≥Å (Cabbage)","‡≤ï‡≥Å‡≤Ç‡≤¨‡≤≥‡≤ï‡≤æ‡≤Ø‡≤ø (Pumpkin)","‡≤ï‡≥ç‡≤Ø‡≤æ‡≤∞‡≥Ü‡≤ü‡≥ç (Carrot)","‡≤®‡≤µ‡≤ø‡≤≤‡≥Å‡≤ï‡≥ã‡≤∏‡≥Å (Knolkhol)","‡≤∏‡≤ø‡≤π‡≤ø ‡≤ó‡≥Ü‡≤£‡≤∏‡≥Å (Sweet potato)","‡≤ü‡≥ä‡≤Æ‡≤æ‡≤ü‡≥ä (Tomato)","‡≤®‡≥Å‡≤ó‡≥ç‡≤ó‡≥Ü‡≤ï‡≤æ‡≤Ø‡≤ø (Drumstick)","‡≤Ö‡≤≤‡≤∏‡≤Ç‡≤¶‡≥Ü (Kidney Beans)","‡≤¨‡≥Ü‡≤≥‡≥ç‡≤≥‡≥Å‡≤≥‡≥ç‡≤≥‡≤ø (Garlic)","‡≤¨‡≥Ü‡≤Ç‡≤°‡≥Ü‡≤ï‡≤æ‡≤Ø‡≤ø (Ladies Finger)","‡≤¨‡≥Ä‡≤ü‡≥ç‡≤∞‡≥Ç‡≤ü‡≥ç (Beetroot)","‡≤π‡≤∏‡≤ø ‡≤Æ‡≥Ü‡≤£‡≤∏‡≤ø‡≤®‡≤ï‡≤æ‡≤Ø‡≤ø (Chilli)","‡≤π‡≤æ‡≤ó‡≤≤‡≤ï‡≤æ‡≤Ø‡≤ø (Bitter Gourd)","‡≤π‡≥Ä‡≤∞‡≥á‡≤ï‡≤æ‡≤Ø‡≤ø (Ridge Gourd)","‡≤∏‡≥å‡≤§‡≥Ü‡≤ï‡≤æ‡≤Ø‡≤ø (Cucumber)"];
  const greenLeaves=["‡≤ï‡≥ä‡≤§‡≥ç‡≤§‡≤Ç‡≤¨‡≤∞‡≤ø ‡≤∏‡≥ä‡≤™‡≥ç‡≤™‡≥Å (Coriander)","‡≤Æ‡≥Ü‡≤Ç‡≤§‡≥ç‡≤Ø ‡≤∏‡≥ä‡≤™‡≥ç‡≤™‡≥Å (Fenugreek)","‡≤Æ‡≥Ç‡≤≤‡≤Ç‡≤ó‡≤ø ‡≤∏‡≥ä‡≤™‡≥ç‡≤™‡≥Å (Radish Leaves)","‡≤∏‡≤¨‡≥ç‡≤¨‡≤∏‡≤ø‡≤ó‡≥Ü ‡≤∏‡≥ä‡≤™‡≥ç‡≤™‡≥Å (Dill)","‡≤π‡≤∞‡≤ø‡≤µ‡≥Ü ‡≤∏‡≥ä‡≤™‡≥ç‡≤™‡≥Å (Harive soppu)","‡≤™‡≤æ‡≤≤‡≤ï ‡≤∏‡≥ä‡≤™‡≥ç‡≤™‡≥Å (Spinach)","‡≤®‡≥Å‡≤ó‡≥ç‡≤ó‡≥Ü‡≤ï‡≤æ‡≤Ø‡≤ø ‡≤∏‡≥ä‡≤™‡≥ç‡≤™‡≥Å (Drumstick Leaves)","‡≤ï‡≤∞‡≤ø‡≤¨‡≥á‡≤µ‡≥Å (Curry Leaves)","‡≤µ‡≥Ä‡≤≥‡≥ç‡≤Ø‡≤¶‡≥Ü‡≤≤‡≥Ü (Veelya-dele)"];
  const fruits=["‡≤Ö‡≤®‡≤æ‡≤®‡≤∏‡≥ç (Pineapple)","‡≤ï‡≤≤‡≥ç‡≤≤‡≤Ç‡≤ó‡≤°‡≤ø (Watermelon)","‡≤ï‡≤ø‡≤§‡≥ç‡≤§‡≤≥‡≥Ü (Orange)","‡≤¶‡≤æ‡≤≥‡≤ø‡≤Ç‡≤¨‡≥Ü (Pomegranate)","‡≤¶‡≥ç‡≤∞‡≤æ‡≤ï‡≥ç‡≤∑‡≤ø (Grapes)","‡≤®‡≤ø‡≤Ç‡≤¨‡≥Ü (Lemon)","‡≤™‡≤™‡≤æ‡≤Ø‡≤ø (Papaya)","‡≤¨‡≤æ‡≤≥‡≥Ü‡≤π‡≤£‡≥ç‡≤£‡≥Å (Banana)","‡≤¨‡≥Ü‡≤≤‡≤¶ ‡≤π‡≤£‡≥ç‡≤£‡≥Å (Wood Apple)","‡≤Æ‡≤æ‡≤µ‡≤ø‡≤® ‡≤π‡≤£‡≥ç‡≤£‡≥Å (Mango)","‡≤Æ‡≥Ç‡≤∏‡≤Ç‡≤¨‡≤ø (Sweet Lemon)","‡≤ö‡≤ø‡≤ï‡≥ç‡≤ï‡≥Å (Sapota)","‡≤™‡≥á‡≤∞‡≤≥‡≥Ü (Guava)","‡≤∏‡≥á‡≤¨‡≥Å (Apple)","‡≤π‡≤≤‡≤∏‡≥Å (Jackfruit)","‡≤π‡≥Å‡≤£‡≤∏‡≥Ü (Tamarind)"];
  const staples=["Rice (‡≤Ö‡≤ï‡≥ç‡≤ï‡≤ø)","Wheat (‡≤ó‡≥ã‡≤ß‡≤ø)","Ragi (‡≤∞‡≤æ‡≤ó‡≤ø)","Jowar (‡≤ú‡≥ã‡≤≥)","Wheat Semolina (‡≤∞‡≤µ‡≥Ü)","Maida Flour (‡≤Æ‡≥à‡≤¶‡≤æ)","Rice Flour (‡≤Ö‡≤ï‡≥ç‡≤ï‡≤ø ‡≤π‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å)","Wheat Flour (‡≤ó‡≥ã‡≤ß‡≤ø ‡≤π‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å)","Ragi Flour (‡≤∞‡≤æ‡≤ó‡≤ø ‡≤π‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å)","Gram Flour (‡≤ï‡≤°‡≤≤‡≥Ü ‡≤π‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å)","Jowar Flour (‡≤ú‡≥ã‡≤≥ ‡≤π‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å)","Toor Dal (‡≤§‡≥ä‡≤ó‡≤∞‡≤ø)","Bengal Gram (‡≤ï‡≤°‡≤≤‡≥Ü)","Moong Dal (‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å)","Urad Dal (‡≤â‡≤¶‡≥ç‡≤¶‡≤ø‡≤® ‡≤¨‡≥á‡≤≥‡≥Ü)","Green Gram (‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å)","Chickpeas (‡≤ï‡≤°‡≤≤‡≥Ü)","Cumin Seeds (‡≤ú‡≥Ä‡≤∞‡≤ø‡≤ó‡≥Ü)","Mustard Seeds (‡≤∏‡≤æ‡≤∏‡≤ø‡≤µ‡≥Ü)","Turmeric Powder (‡≤Ö‡≤∞‡≤ø‡≤∂‡≤ø‡≤®)","Red Chilli Powder (‡≤Æ‡≥Ü‡≤£‡≤∏‡≤ø‡≤® ‡≤™‡≥Å‡≤°‡≤ø)","Coriander Seeds (‡≤ï‡≥ä‡≤§‡≥ç‡≤§‡≤Ç‡≤¨‡≤∞‡≤ø)","Cardamom (‡≤è‡≤≤‡≤ï‡≥ç‡≤ï‡≤ø)","Clove (‡≤≤‡≤µ‡≤Ç‡≤ó)","Cinnamon (‡≤¶‡≤æ‡≤≤‡≥ç‡≤ö‡≤ø‡≤®‡≥ç‡≤®‡≤ø)","Black Pepper (‡≤ï‡≤∞‡≤ø‡≤Æ‡≥Ü‡≤£‡≤∏‡≥Å)","Asafoetida (‡≤π‡≤ø‡≤Ç‡≤ó‡≥Å)","Fenugreek Seeds (‡≤Æ‡≥Ü‡≤Ç‡≤§‡≥ç‡≤Ø)","Salt (‡≤â‡≤™‡≥ç‡≤™‡≥Å)","Sugar (‡≤∏‡≤ï‡≥ç‡≤ï‡≤∞‡≥Ü)","Oil (‡≤é‡≤£‡≥ç‡≤£‡≥Ü)","Puffed Rice (‡≤Æ‡≥Å‡≤∞‡≤ø)","Poha (‡≤Ö‡≤µ‡≤≤‡≤ï‡≥ç‡≤ï‡≤ø)","Groundnuts (‡≤ï‡≤°‡≤≤‡≥Ü‡≤ï‡≤æ‡≤Ø‡≤ø)","Jaggery (‡≤¨‡≥Ü‡≤≤‡≥ç‡≤≤)","Tamarind (‡≤π‡≥Å‡≤£‡≤∏‡≥Ü)","Coconut (‡≤§‡≥Ü‡≤Ç‡≤ó‡≥Å)","Roasted Gram (‡≤π‡≥Å‡≤∞‡≤ø‡≤ó‡≤°‡≤≤‡≥Ü)","Tea Powder (‡≤ö‡≤π‡≤æ ‡≤™‡≥Å‡≤°‡≤ø)","Coffee Powder (‡≤ï‡≤æ‡≤´‡≤ø ‡≤™‡≥Å‡≤°‡≤ø)","Puliyogare Powder (‡≤™‡≥Å‡≤≤‡≤ø‡≤Ø‡≥ã‡≤ó‡≤∞‡≥Ü ‡≤™‡≥Å‡≤°‡≤ø)","Bisibele Bath Powder (‡≤¨‡≤ø‡≤∏‡≤ø‡≤¨‡≥á‡≤≥‡≥Ü ‡≤¨‡≤æ‡≤§‡≥ç ‡≤™‡≥Å‡≤°‡≤ø)","Vangi Bath Powder (‡≤µ‡≤æ‡≤Ç‡≤ó‡≤ø ‡≤¨‡≤æ‡≤§‡≥ç ‡≤™‡≥Å‡≤°‡≤ø)","Tomato Bath Powder (‡≤ü‡≥ä‡≤Æ‡≥Ü‡≤ü‡≥ä ‡≤¨‡≤æ‡≤§‡≥ç ‡≤™‡≥Å‡≤°‡≤ø)","Ginger Garlic Paste (‡≤∂‡≥Å‡≤Ç‡≤†‡≤ø ‡≤¨‡≥Ü‡≤≥‡≥ç‡≤≥‡≥Å‡≤≥‡≥ç‡≤≥‡≤ø ‡≤™‡≥á‡≤∏‡≥ç‡≤ü‡≥ç)","Rasam Powder (‡≤∞‡≤∏‡≤Ç ‡≤™‡≥Å‡≤°‡≤ø)","Chicken Masala (‡≤ö‡≤ø‡≤ï‡≤®‡≥ç ‡≤Æ‡≤∏‡≤æ‡≤≤‡≥Ü)","Mutton Masala (‡≤Æ‡≤ü‡≤®‡≥ç ‡≤Æ‡≤∏‡≤æ‡≤≤‡≥Ü)","Egg Masala (‡≤Æ‡≥ä‡≤ü‡≥ç‡≤ü‡≥Ü ‡≤Æ‡≤∏‡≤æ‡≤≤‡≥Ü)","Garam Masala (‡≤ó‡≤∞‡≤Ç ‡≤Æ‡≤∏‡≤æ‡≤≤‡≥Ü)","Chat Masala (‡≤ö‡≤æ‡≤ü‡≥ç ‡≤Æ‡≤∏‡≤æ‡≤≤‡≥Ü)"];
  const dairy=[{name:"‡≤π‡≤æ‡≤≤‡≥Å (Milk)",type:"liter"},{name:"‡≤Æ‡≥ä‡≤∏‡≤∞‡≥Å (Curd)",type:"liter"},{name:"‡≤Æ‡≤ú‡≥ç‡≤ú‡≤ø‡≤ó‡≥Ü (Buttermilk)",type:"liter"},{name:"‡≤¨‡≥Ü‡≤£‡≥ç‡≤£‡≥Ü (Butter)",type:"kg"},{name:"‡≤§‡≥Å‡≤™‡≥ç‡≤™ (Ghee)",type:"kg"},{name:"‡≤ö‡≥Ä‡≤∏‡≥ç (Cheese)",type:"kg"},{name:"‡≤™‡≤®‡≥Ä‡≤∞‡≥ç (Paneer)",type:"kg"},{name:"‡≤ï‡≥ç‡≤∞‡≥Ä‡≤Æ‡≥ç (Cream)",type:"kg"},{name:"‡≤ê‡≤∏‡≥ç ‡≤ï‡≥ç‡≤∞‡≥Ä‡≤Æ‡≥ç (Ice Cream)",type:"kg"},{name:"‡≤π‡≤æ‡≤≤‡≥Å ‡≤™‡≥Å‡≤°‡≤ø (Milk Powder)",type:"kg"}];
  const dryFruits=["‡≤¨‡≤æ‡≤¶‡≤æ‡≤Æ‡≤ø (Almond)","‡≤ó‡≥ã‡≤°‡≤Ç‡≤¨‡≤ø (Cashew)","‡≤¶‡≥ç‡≤∞‡≤æ‡≤ï‡≥ç‡≤∑‡≤ø ‡≤í‡≤£ (Raisin)","‡≤™‡≤ø‡≤∏‡≥ç‡≤§‡≤æ (Pistachio)","‡≤Ö‡≤ï‡≥ç‡≤ï‡≤∞‡≤ï‡≤æ‡≤Ø‡≤ø (Walnut)","‡≤Ö‡≤Ç‡≤ú‡≥Ç‡≤∞ (Fig)","‡≤ñ‡≤∞‡≥ç‡≤ú‡≥Ç‡≤∞ (Dates)"];
  const bakery=["‡≤¨‡≥ç‡≤∞‡≥Ü‡≤°‡≥ç (Bread)","‡≤¨‡≤®‡≥ç (Bun)","‡≤ï‡≥á‡≤ï‡≥ç (Cake)","‡≤¨‡≤ø‡≤∏‡≥ç‡≤ï‡≤§‡≥ç (Biscuits)","‡≤™‡≤´‡≥ç (Puff)","‡≤ü‡≥ã‡≤∏‡≥ç‡≤ü‡≥ç (Toast)","‡≤ñ‡≤æ‡≤∞ ‡≤¨‡≤®‡≥ç (Khara Bun)"];
  const drinks=["‡≤ö‡≤π‡≤æ (Tea)","‡≤ï‡≤æ‡≤´‡≤ø (Coffee)","‡≤ú‡≥ç‡≤Ø‡≥Ç‡≤∏‡≥ç (Juice)"];
  const soaps=["‡≤Æ‡≥à‡≤∏‡≥Ç‡≤∞‡≥Å ‡≤∏‡≥ç‡≤Ø‡≤æ‡≤Ç‡≤°‡≤≤‡≥ç ‡≤∏‡≥ã‡≤™‡≥ç (Mysore Sandal)","‡≤∏‡≤Ç‡≤§‡≥Ç‡≤∞‡≥ç (Santoor)","‡≤™‡≤ø‡≤Ø‡≤∞‡≥ç‡≤∏‡≥ç (Pears)","‡≤≤‡≥à‡≤´‡≥ç‡≤¨‡≤æ‡≤Ø‡≥ç (Lifebuoy)"];
  const clothSoaps=["‡≤∞‡≤ø‡≤®‡≥ç (Rin)","‡≤µ‡≥Ä‡≤≤‡≥ç (Wheel)","‡≤ü‡≥à‡≤°‡≥ç (Tide)"];
  const soapPowders=["‡≤∏‡≤∞‡≥ç‡≤´‡≥ç ‡≤é‡≤ï‡≥ç‡≤∏‡≥Ü‡≤≤‡≥ç (Surf Excel)","‡≤Ö‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç (Ariel)","‡≤ü‡≥à‡≤°‡≥ç (Tide)"];
  const shampoos=["‡≤ï‡≥ç‡≤≤‡≤ø‡≤®‡≤ø‡≤ï‡≥ç ‡≤™‡≥ç‡≤≤‡≤∏‡≥ç (Clinic Plus)","‡≤ö‡≤ø‡≤ï‡≥ç (Chik)","‡≤∏‡≤®‡≥ç‡≤∏‡≤ø‡≤≤‡≥ç‡≤ï‡≥ç (Sunsilk)","‡≤°‡≤µ‡≥ç (Dove)"];
  const facewash=["‡≤π‡≤ø‡≤Æ‡≤æ‡≤≤‡≤Ø (Himalaya)","‡≤ó‡≤æ‡≤∞‡≥ç‡≤®‡≤ø‡≤Ø‡≤∞‡≥ç (Garnier)","‡≤®‡≤ø‡≤µ‡≤ø‡≤Ø‡≤æ (Nivea)"];

  // Dropdowns
  function kgDropdown(){ return `<select><option>1/4 KG</option><option>1/2 KG</option><option>1 KG</option><option>2 KG</option><option>5 KG</option></select>`;}
  function literDropdown(){ return `<select><option>1/2 L</option><option>1 L</option><option>2 L</option><option>5 L</option></select>`;}
  function qtyDropdown(){ let opt=""; for(let i=1;i<=10;i++) opt+=`<option>${i}</option>`; return `<select>${opt}</select>`;}

  function renderList(id,items,type="kg"){ const div=document.getElementById(id); div.innerHTML=items.map(item=>{ 
    if(typeof item==="object"){ 
      return `<div class="item"><label><input type="checkbox"> ${item.name}</label>${item.type==="kg"?kgDropdown():literDropdown()}</div>`;} 
    else { 
      return `<div class="item"><label><input type="checkbox"> ${item}</label>${type==="kg"?kgDropdown():type==="qty"?qtyDropdown():""}</div>`;} }).join(""); }

  // Render
  renderList("vegetables",vegetables,"kg");
  renderList("greenLeaves",greenLeaves,"qty");
  renderList("fruits",fruits,"kg");
  renderList("staples",staples,"kg");
  renderList("dairy",dairy);
  renderList("dryFruits",dryFruits,"kg");
  renderList("bakery",bakery,"qty");
  renderList("drinks",drinks,"qty");
  renderList("soaps",soaps,"qty");
  renderList("clothSoaps",clothSoaps,"qty");
  renderList("soapPowders",soapPowders,"kg");
  renderList("shampoos",shampoos,"qty");
  renderList("facewash",facewash,"qty");

  // Add Custom Item
  function addCustomItem(){ 
    const name=document.getElementById("customItemName").value.trim(); 
    const type=document.getElementById("customItemType").value; 
    const category=document.getElementById("customItemCategory").value; 
    if(!name){ alert("Please enter an item name."); return; } 
    const item=(type==="kg"||type==="liter")?{name,type}:name;
    switch(category){
      case "vegetables": vegetables.push(item); renderList("vegetables",vegetables,"kg"); break;
      case "greenLeaves": greenLeaves.push(item); renderList("greenLeaves",greenLeaves,"qty"); break;
      case "fruits": fruits.push(item); renderList("fruits",fruits,"kg"); break;
      case "staples": staples.push(item); renderList("staples",staples,"kg"); break;
      case "dairy": dairy.push(item); renderList("dairy",dairy); break;
      case "dryFruits": dryFruits.push(item); renderList("dryFruits",dryFruits,"kg"); break;
      case "bakery": bakery.push(item); renderList("bakery",bakery,"qty"); break;
      case "drinks": drinks.push(item); renderList("drinks",drinks,"qty"); break;
      case "soaps": soaps.push(item); renderList("soaps",soaps,"qty"); break;
      case "clothSoaps": clothSoaps.push(item); renderList("clothSoaps",clothSoaps,"qty"); break;
      case "soapPowders": soapPowders.push(item); renderList("soapPowders",soapPowders,"kg"); break;
      case "shampoos": shampoos.push(item); renderList("shampoos",shampoos,"qty"); break;
      case "facewash": facewash.push(item); renderList("facewash",facewash,"qty"); break;
    }
    document.getElementById("customItemName").value="";
  }

  // Collect items by category
  function collectSelectedByCategory(){
    const categories={
      vegetables:{name:"‡≤§‡≤∞‡≤ï‡≤æ‡≤∞‡≤ø‡≤ó‡≤≥‡≥Å (Vegetables)",items:[]},
      greenLeaves:{name:"‡≤∏‡≥ä‡≤™‡≥ç‡≤™‡≥Å‡≤ó‡≤≥‡≥Å (Green Leaves)",items:[]},
      fruits:{name:"‡≤π‡≤£‡≥ç‡≤£‡≥Å‡≤ó‡≤≥‡≥Å (Fruits)",items:[]},
      staples:{name:"‡≤Ö‡≤ï‡≥ç‡≤ï‡≤ø, ‡≤ß‡≤æ‡≤®‡≥ç‡≤Ø & ‡≤Æ‡≤∏‡≤æ‡≤≤‡≥Ü‡≤ó‡≤≥‡≥Å (Staples)",items:[]},
      dairy:{name:"‡≤π‡≤æ‡≤≤‡≥Å ‡≤â‡≤§‡≥ç‡≤™‡≤®‡≥ç‡≤®‡≤ó‡≤≥‡≥Å (Dairy Products)",items:[]},
      dryFruits:{name:"‡≤í‡≤£‡≤π‡≤£‡≥ç‡≤£‡≥Å‡≤ó‡≤≥‡≥Å (Dry Fruits)",items:[]},
      bakery:{name:"‡≤¨‡≥á‡≤ï‡≤∞‡≤ø ‡≤ê‡≤ü‡≤Ç‡≤ó‡≤≥‡≥Å (Bakery Items)",items:[]},
      drinks:{name:"‡≤™‡≤æ‡≤®‡≥Ä‡≤Ø‡≤ó‡≤≥‡≥Å (Drinks)",items:[]},
      soaps:{name:"‡≤∏‡≤æ‡≤¨‡≥Ç‡≤®‡≥Å‡≤ó‡≤≥‡≥Å (Soaps)",items:[]},
      clothSoaps:{name:"‡≤¨‡≤ü‡≥ç‡≤ü‡≥Ü ‡≤§‡≥ä‡≤≥‡≥Ü‡≤Ø‡≥Å‡≤µ ‡≤∏‡≤æ‡≤¨‡≥Ç‡≤®‡≥Å‡≤ó‡≤≥‡≥Å (Cloth Washing Soaps)",items:[]},
      soapPowders:{name:"‡≤∏‡≤æ‡≤¨‡≥Ç‡≤®‡≥Å ‡≤™‡≥Å‡≤°‡≤ø (Soap Powders)",items:[]},
      shampoos:{name:"‡≤∂‡≤æ‡≤Ç‡≤™‡≥Å‡≤ó‡≤≥‡≥Å (Shampoos)",items:[]},
      facewash:{name:"‡≤´‡≥á‡≤∏‡≥ç‚Äå‡≤µ‡≤æ‡≤∂‡≥ç (Face Wash)",items:[]}
    };
    document.querySelectorAll(".item").forEach(i=>{
      const checkbox=i.querySelector("input[type=checkbox]");
      if(checkbox && checkbox.checked){
        const name=i.querySelector("label").innerText.trim();
        const qty=i.querySelector("select")?i.querySelector("select").value:"";
        const parentId=i.parentElement.id;
        if(categories[parentId]) categories[parentId].items.push(`- ${name} - ${qty}`);
      }
    });
    return categories;
  }

  // WhatsApp Button
  function sendWhatsApp(){
    const categories=collectSelectedByCategory();
    let msg="üõí Grocery List:\n\n",hasItems=false;
    for(const cat in categories){
      if(categories[cat].items.length>0){
        hasItems=true;
        msg+=categories[cat].name+":\n"+categories[cat].items.join("\n")+"\n\n";
      }
    }
    if(!hasItems){ alert("‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Ç ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤ø‡≤≤‡≥ç‡≤≤ (No items selected)"); return; }
    window.open("https://wa.me/?text="+encodeURIComponent(msg),"_blank");
  }

  // PDF Button
  function downloadPDF(){
    const { jsPDF } = window.jspdf;
    const doc=new jsPDF();
    doc.setFont("helvetica","normal"); doc.setFontSize(14); let y=20;
    doc.text("üõí Grocery List (‡≤ó‡≥ç‡≤∞‡≥ã‡≤∏‡≤∞‡≤ø ‡≤≤‡≤ø‡≤∏‡≥ç‡≤ü‡≥ç)",10,y); y+=10;
    const categories=collectSelectedByCategory(); let hasItems=false;
    for(const cat in categories){
      if(categories[cat].items.length>0){
        hasItems=true;
        doc.text(categories[cat].name+":",10,y); y+=8;
        categories[cat].items.forEach(item=>{
          let lines=doc.splitTextToSize(item,180);
          doc.text(lines,10,y); y+=lines.length*8;
          if(y>270){ doc.addPage(); y=20; }
        });
        y+=4;
      }
    }
    if(!hasItems) doc.text("‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥Ç ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤ø‡≤≤‡≥ç‡≤≤ (No items selected)",10,y);
    doc.save("grocery-list.pdf");
  }
</script>
</body>
</html>
